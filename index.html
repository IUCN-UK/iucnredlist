<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>An R package for the IUCN Red List API • iucnredlist</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="An R package for the IUCN Red List API">
<meta name="description" content="An R package for interacting with the IUCN Red List API">
<meta property="og:description" content="An R package for interacting with the IUCN Red List API">
<meta property="og:image" content="https://iucn-uk.github.io/iucnredlist/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">iucnredlist</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/assessment-data-responses.html">Assessment Data Responses</a></li>
    <li><a class="dropdown-item" href="articles/gather-common-data.html">Gather Common Data</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/IUCN-UK/iucnredlist/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="iucnredlist-">iucnredlist 
<a class="anchor" aria-label="anchor" href="#iucnredlist-"></a>
</h1>
</div>
<p><a href="https://github.com/IUCN-UK/iucnredlist/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/IUCN-UK/iucnredlist/actions/workflows/R-CMD-check.yaml/badge.svg?branch=main" alt="R-CMD-check"></a></p>
<p>The <a href="https://www.iucn.org" class="external-link">International Union for Conservation of Nature’s</a> <a href="https://www.iucnredlist.org" class="external-link">Red List of Threatened Species</a> has evolved to become the world’s most comprehensive information source on the global conservation status of animal, fungi and plant species. It’s a critical indicator of the health of the world’s biodiversity.</p>
<p>The <a href="https://api.iucnredlist.org" class="external-link">IUCN Red List API</a> has been developed to inform and drive biodiversity conservation and policy change -— critical steps in protecting essential natural resources. It provides programmatic access to data including (but limited to); population size, habitat and ecology, trade and threats to help support informed conservation decisions.</p>
<p>The iucnredlist R package aims to serve as a client library for the Red List API, offering the research community and other users an efficient and user-friendly tool to access and interact with the vital data and services provided by the IUCN Red List.</p>
<p>We have open sourced this package to promote transparency, enable research community contributions, and drive adoption of the API. As an official IUCN-supported library, we shall maintain synchronisation with any API changes and updates.</p>
<p>We are proponents of the <a href="https://www.tidyverse.org" class="external-link">tidyverse</a> and have worked to ensure that outputs from <code>iucnredlist</code> functions conform to tidy data principles where possible.</p>
<div class="section level2">
<h2 id="api-usage">API Usage<a class="anchor" aria-label="anchor" href="#api-usage"></a>
</h2>
<p>The use of the API falls under the same <a href="https://www.iucnredlist.org/terms/terms-of-use" class="external-link">Terms of Use</a> as the Red List. By requesting a token, you are agreeing to abide by the Terms of Use of the Red List. If your token usage is found to be in breach of our terms of use, it will be revoked. We kindly request your cooperation in ensuring responsible and respectful usage of our services.</p>
<p>Please be aware that misusing your API token, such as using it for information extraction (scraping) rather than making legitimate requests for non-commercial purposes, may result in your token being rate limited and/or revoked.</p>
<p>We are committed to maintaining a high-quality service for all users and have implemented a rate limiting system to ensure our resources are accessible equally to all. We actively monitor API usage to prevent abuse. We understand that some users may have unique requirements for making frequent calls in succession. If you find yourself in such a situation, we kindly request that you incorporate appropriate delays between your API calls to ensure smooth operation and prevent overloading our system, otherwise your token may be further rate-limited. It’s important to note that the Red List API is primarily designed to support conservation efforts, particularly in the fields of education and research. We may need to restrict access if the API is being used for purposes that do not align with our mission, such as mobile app development, inclusion in computing courses, or visualization projects unrelated to conservation.</p>
<p><em>Use of the Red List API for commercial purposes is strictly forbidden. Users who wish to use Red List data for commercial purposes should consider subscribing to <a href="www.ibat-alliance.org">IBAT</a>.</em></p>
<div class="section level3">
<h3 id="responsible-usage">Responsible Usage<a class="anchor" aria-label="anchor" href="#responsible-usage"></a>
</h3>
<p>We are committed to ensuring fast and reliable access for all users of this API. To this end, we have implemented rate limiting to maintain service reliability for all users. Several functions within this package have an argument called <code>wait_time</code> - we recommend setting this to &gt;=0.5 seconds (default 0.5 seconds) to avoid rate limiting. If you build your own functions from this package, we recommend you implement an appropriate wait time in your code to avoid any such limits.</p>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>iucnredlist</code> from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"IUCN-UK/iucnredlist"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-usage">Example Usage<a class="anchor" aria-label="anchor" href="#example-usage"></a>
</h2>
<p>The <code>iucnredlist</code> package contains a number of functions to allow quick access to Red List data. The examples below are some quick-start scripts to get you familiar with a basic <code>iucnredlist</code> workflow.</p>
<p>Before running this code, you must first sign up to the <a href="https://api.iucnredlist.org" class="external-link">Red List API</a> to obtain an API token. You can view (and cycle) your token from your <a href="https://api.iucnredlist.org/users/edit" class="external-link">account page</a>.</p>
<div class="section level3">
<h3 id="fetch-data-for-a-single-assessment">Fetch data for a single assessment<a class="anchor" aria-label="anchor" href="#fetch-data-for-a-single-assessment"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Initialize the API with your API key</span></span>
<span><span class="va">api</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/init_api.html">init_api</a></span><span class="op">(</span><span class="st">"your_red_list_api_key"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fetch assessment data for assessment_id = 266696959 (Panthera leo)</span></span>
<span><span class="co"># Returns a list containing all assessment data</span></span>
<span><span class="va">assessment_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/assessment_data.html">assessment_data</a></span><span class="op">(</span><span class="va">api</span>, <span class="fl">266696959</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Parse the 'raw' assessment data to tidy tibbles</span></span>
<span><span class="va">assessment</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/parse_assessment_data.html">parse_assessment_data</a></span><span class="op">(</span><span class="va">assessment_raw</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View e.g. threats or habitats</span></span>
<span><span class="co"># The result is a tidy 'tibble()` of data</span></span>
<span><span class="va">assessment</span><span class="op">$</span><span class="va">threats</span></span>
<span><span class="va">assessment</span><span class="op">$</span><span class="va">habitats</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fetch-all-assessments-for-an-sis-taxon-id">Fetch all assessments for an SIS taxon ID<a class="anchor" aria-label="anchor" href="#fetch-all-assessments-for-an-sis-taxon-id"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Initialize the API with your API key</span></span>
<span><span class="va">api</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/init_api.html">init_api</a></span><span class="op">(</span><span class="st">"your_red_list_api_key"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get 'minimal' assessment data for the European Sturgeon</span></span>
<span><span class="va">sturgeon</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/assessments_by_sis_id.html">assessments_by_sis_id</a></span><span class="op">(</span><span class="va">api</span>, <span class="fl">230</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="gather-full-assessment-data-for-many-assessment-ids">Gather full assessment data for many assessment IDs<a class="anchor" aria-label="anchor" href="#gather-full-assessment-data-for-many-assessment-ids"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Using the sturgeon assessment IDs from above example, get full assessment data</span></span>
<span><span class="va">sturgeon_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/assessment_data_many.html">assessment_data_many</a></span><span class="op">(</span><span class="va">api</span>, <span class="va">sturgeon</span><span class="op">$</span><span class="va">assessment_id</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View theats</span></span>
<span><span class="va">sturgeon_threats</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extract_element.html">extract_element</a></span><span class="op">(</span><span class="va">sturgeon_all</span>, <span class="st">"threats"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fetch-all-assessments-for-a-latin-binomial-name">Fetch all assessments for a Latin binomial name<a class="anchor" aria-label="anchor" href="#fetch-all-assessments-for-a-latin-binomial-name"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Initialize the API with your API key</span></span>
<span><span class="va">api</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/init_api.html">init_api</a></span><span class="op">(</span><span class="st">"your_red_list_api_key"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get all historic and latest assessments for Panthera leo (not case-sensitive)</span></span>
<span><span class="va">lion</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/assessments_by_name.html">assessments_by_name</a></span><span class="op">(</span><span class="va">api</span>, genus <span class="op">=</span> <span class="st">"panthera"</span>, species <span class="op">=</span> <span class="st">"leo"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="show-threats-for-a-taxonomic-level">Show threats for a taxonomic level<a class="anchor" aria-label="anchor" href="#show-threats-for-a-taxonomic-level"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Initialize the API with your API key</span></span>
<span><span class="va">api</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/init_api.html">init_api</a></span><span class="op">(</span><span class="st">"your_red_list_api_key"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 1: Get all latest and global-scope assessment IDs for the family Felidae</span></span>
<span><span class="va">felidae</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/assessments_by_taxonomy.html">assessments_by_taxonomy</a></span><span class="op">(</span><span class="va">api</span>,</span>
<span>  level <span class="op">=</span> <span class="st">"family"</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"felidae"</span>,</span>
<span>  latest <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  scope_code <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  wait_time <span class="op">=</span> <span class="fl">0.5</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 2: Fetch assessment data for each assessment ID</span></span>
<span><span class="co"># Pass the assessment_id column to `assessment_data_many() to grab</span></span>
<span><span class="co"># full assessment data for each assessment_id</span></span>
<span><span class="va">a_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/assessment_data_many.html">assessment_data_many</a></span><span class="op">(</span><span class="va">api</span>,</span>
<span>  <span class="va">felidae</span><span class="op">$</span><span class="va">assessment_id</span>,</span>
<span>  wait_time <span class="op">=</span> <span class="fl">0.5</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 3: Extract habitats from the assessment data</span></span>
<span><span class="co"># This will iterate over each assessment in the list a_data</span></span>
<span><span class="co"># and return a tidy `tibble()` for all habitats</span></span>
<span><span class="va">habitats</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extract_element.html">extract_element</a></span><span class="op">(</span><span class="va">a_data</span>, <span class="st">"habitats"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Alternatively, extract threats</span></span>
<span><span class="va">threats</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extract_element.html">extract_element</a></span><span class="op">(</span><span class="va">a_data</span>, <span class="st">"threats"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># See all elements you can extract - use any of these with `extract_element()`</span></span>
<span><span class="fu"><a href="reference/element_names.html">element_names</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="how-to-contribute">How to contribute<a class="anchor" aria-label="anchor" href="#how-to-contribute"></a>
</h1>
<p>As an official IUCN-supported library, we intend to maintain synchronisation with any API changes and updates. We do, however, welcome contributions from our community of users, be it bug fixes or increased test coverage.</p>
<div class="section level2">
<h2 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a>
</h2>
<p>We use <a href="https://testthat.r-lib.org/" class="external-link">testthat</a> for unit testing to ensure functions work as expected; see the tests/testthat/ directory for examples of test cases.</p>
</div>
<div class="section level2">
<h2 id="submitting-changes">Submitting changes<a class="anchor" aria-label="anchor" href="#submitting-changes"></a>
</h2>
<p>To get started, make sure you have the latest version of R. Then run the following code to get the packages you’ll need for development:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"devtools"</span>, <span class="st">"roxygen2"</span>, <span class="st">"testthat"</span>, <span class="st">"knitr"</span>))</span></code></pre></div>
<p>Please send a GitHub Pull Request with a clear list of the changes – please also include tests and make sure all of your commits contain only one feature per commit.</p>
<p>It is essential that any pull request passes <code>R CMD</code> check (also a requirement for submitting to CRAN). Our recommended way to run <code>R CMD</code> check is in the R console via devtools by running:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">check</span>()</span></code></pre></div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/IUCN-UK/iucnredlist/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/IUCN-UK/iucnredlist/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing iucnredlist</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Simon Tarr <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-8464-1240" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Ian Townsend <br><small class="roles"> Author </small> <a href="https://orcid.org/0009-0003-8894-6019" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>International Union for Conservation of Nature <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Simon Tarr, Ian Townsend, International Union for Conservation of Nature.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
