<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R Client for the IUCN Red List API • iucnredlist</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="R Client for the IUCN Red List API">
<meta property="og:description" content="What the package does (one paragraph).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">iucnredlist</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/IUCN-UK/iucnredlist/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="iucnredlist">iucnredlist<a class="anchor" aria-label="anchor" href="#iucnredlist"></a>
</h1></div>
<p>The <a href="https://www.iucn.org" class="external-link">International Union for Conservation of Nature’s</a> <a href="https://www.iucnredlist.org" class="external-link">Red List of Threatened Species</a> has evolved to become the world’s most comprehensive information source on the global conservation status of animal, fungi and plant species. It’s a critical indicator of the health of the world’s biodiversity.</p>
<p>The <a href="https://api.iucnredlist.org" class="external-link">IUCN Red List API</a> has been developed to inform and drive biodiversity conservation and policy change -— critical steps in protecting essential natural resources. It provides programmatic access to data including; population size, habitat and ecology, trade, threats, and conservation actions to support informed conservation decisions.</p>
<p>The iucnredlist R package aims to serve as a client library for the Red List API, offering the research community and other users an efficient and user-friendly tool to access and interact with the vital data and services provided by the IUCN Red List.</p>
<p>We have open sourced this package to promote transparency, enable research community contributions, and drive adoption of the API. As an official IUCN-supported library, we shall maintain synchronisation with any API changes and updates.</p>
<p>We are proponents of the <a href="https://www.tidyverse.org" class="external-link">tidyverse</a> and have worked to ensure that outputs from <code>iucnredlist</code> functions conform to tidy data principles where possible.</p>
<div class="section level2">
<h2 id="api-usage">API Usage<a class="anchor" aria-label="anchor" href="#api-usage"></a>
</h2>
<p>The use of the API falls under the same <a href="https://www.iucnredlist.org/terms/terms-of-use" class="external-link">Terms of Use</a> as the Red List. By requesting a token, you are agreeing to abide by the Terms of Use of the Red List. If your token usage is found to be in breach of our terms of use, it will be revoked. We kindly request your cooperation in ensuring responsible and respectful usage of our services.</p>
<p>Please be aware that misusing your API token, such as using it for information extraction (scraping) rather than making legitimate requests for non-commercial purposes, may result in your token being rate limited and/or revoked.</p>
<p>We are committed to maintaining a high-quality service for all users and have implemented a rate limiting system to ensure our resources are accessible equally to all. We actively monitor API usage to prevent abuse. We understand that some users may have unique requirements for making frequent calls in succession. If you find yourself in such a situation, we kindly request that you incorporate appropriate delays between your API calls to ensure smooth operation and prevent overloading our system, otherwise your token may be further rate-limited. It’s important to note that the Red List API is primarily designed to support conservation efforts, particularly in the fields of education and research. We may need to restrict access if the API is being used for purposes that do not align with our mission, such as mobile app development, inclusion in computing courses, or visualization projects unrelated to conservation.</p>
<p><em>Use of the Red List API for commercial purposes is strictly forbidden. Users who wish to use Red List data for commercial purposes should consider subscribing to <a href="www.ibat-alliance.org">IBAT</a>.</em></p>
<div class="section level3">
<h3 id="responsible-usage">Responsible Usage<a class="anchor" aria-label="anchor" href="#responsible-usage"></a>
</h3>
<p>We are committed to ensuring fast and reliable access for all users of this API. To this end, we have implemented rate limiting to maintain service reliability for all users. Several functions within this package have an argument called <code>wait_time</code> - we recommend setting this to &gt;=0.5 seconds (default 0.5 seconds) to avoid rate limiting. If you build your own functions from this API, we recommend you implement an appropriate wait time in your code to avoid any such limits.</p>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>iucnredlist</code> from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"IUCN-UK/iucnredlist"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-usage">Example Usage<a class="anchor" aria-label="anchor" href="#example-usage"></a>
</h2>
<p>The <code>iucnredlist</code> package contains a number of functions to allow quick access to Red List data. The examples below are some quick-start scripts to get you familiar with a basic <code>iucnredlist</code> workflow. Please refer to the vignettes for detailed case studies/worked examples.</p>
<p>Before running this code, you must first sign up to the <a href="https://api.iucnredlist.org" class="external-link">Red List API</a> to obtain and API token. You can view (and cycle) your token from your <a href="https://api.iucnredlist.org/users/edit" class="external-link">account page</a>.</p>
<div class="section level3">
<h3 id="fetch-a-single-assessments-data">Fetch a single assessment’s data<a class="anchor" aria-label="anchor" href="#fetch-a-single-assessments-data"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Initialize the API with your API key</span></span>
<span><span class="va">api</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/init_api.html">init_api</a></span><span class="op">(</span><span class="st">"your_red_list_api_key"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fetch assessment data for Panthera leo</span></span>
<span><span class="co"># Returns a list containing all assessment data</span></span>
<span><span class="va">assessment</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/assessment_data.html">assessment_data</a></span><span class="op">(</span><span class="va">api</span>, <span class="fl">266696959</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View e.g. threats or habitats</span></span>
<span><span class="co"># The result is a tidy 'tibble()` of data</span></span>
<span><span class="va">assessment</span><span class="op">$</span><span class="va">threats</span></span>
<span><span class="va">assessment</span><span class="op">$</span><span class="va">habitats</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fetch-all-assessments-for-a-latin-binomial-name">Fetch all assessments for a Latin binomial name<a class="anchor" aria-label="anchor" href="#fetch-all-assessments-for-a-latin-binomial-name"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Initialize the API with your API key</span></span>
<span><span class="va">api</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/init_api.html">init_api</a></span><span class="op">(</span><span class="st">"your_red_list_api_key"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get all historic and latest assessments for Panthera leo (not case-sensitive)</span></span>
<span><span class="va">lion</span> <span class="op">&lt;-</span> <span class="fu">assessments_by_name</span><span class="op">(</span><span class="va">api</span>, genus <span class="op">=</span> <span class="st">"Panthera"</span>, species <span class="op">=</span> <span class="st">"leo"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="show-threats-for-a-taxonomic-level">Show threats for a taxonomic level<a class="anchor" aria-label="anchor" href="#show-threats-for-a-taxonomic-level"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Initialize the API with your API key</span></span>
<span><span class="va">api</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/init_api.html">init_api</a></span><span class="op">(</span><span class="st">"your_red_list_api_key"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 1: Get all latest and global-scope assessment IDs for the family Felidae</span></span>
<span><span class="va">felidae</span> <span class="op">&lt;-</span> <span class="fu">assessments_by_taxonomy</span><span class="op">(</span><span class="va">api</span>, </span>
<span>                                   level <span class="op">=</span> <span class="st">"family"</span>, </span>
<span>                                   name <span class="op">=</span> <span class="st">"felidae"</span>, </span>
<span>                                   latest <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                                   scope_code <span class="op">=</span> <span class="fl">1</span>, </span>
<span>                                   wait_time <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Step 2: Fetch assessment data for each assessment ID</span></span>
<span><span class="co"># Pass the assessment_id column to `assessment_data_many() to grab</span></span>
<span><span class="co"># full assessment data for each assessment_id</span></span>
<span><span class="va">a_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/assessment_data_many.html">assessment_data_many</a></span><span class="op">(</span><span class="va">api</span>, </span>
<span>                               <span class="va">felidae</span><span class="op">$</span><span class="va">assessment_id</span>,</span>
<span>                               wait_time <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Step 3: Extract habitats from the assessment data</span></span>
<span><span class="co"># This will iterate over each assessment in the list a_data</span></span>
<span><span class="co"># and return a tidy `tibble()` for all habitats</span></span>
<span><span class="va">habitats</span> <span class="op">&lt;-</span> <span class="fu">extract_element</span><span class="op">(</span><span class="va">a_data</span>, <span class="st">"habitats"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Alternatively, extract threats</span></span>
<span><span class="va">threats</span> <span class="op">&lt;-</span> <span class="fu">extract_element</span><span class="op">(</span><span class="va">a_data</span>, <span class="st">"threats"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="how-to-contribute">How to contribute<a class="anchor" aria-label="anchor" href="#how-to-contribute"></a>
</h1>
<p>As an official IUCN-supported library, we intend to maintain synchronisation with any API changes and updates. We do, however, welcome contributions from our community of users, be it bug fixes or increased test coverage.</p>
<div class="section level2">
<h2 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a>
</h2>
<p>We use <a href="https://testthat.r-lib.org/" class="external-link">testthat</a> for unit testing to ensure functions work as expected; see the tests/testthat/ directory for examples of test cases.</p>
</div>
<div class="section level2">
<h2 id="submitting-changes">Submitting changes<a class="anchor" aria-label="anchor" href="#submitting-changes"></a>
</h2>
<p>To get started, make sure you have the latest version of R. Then run the following code to get the packages you’ll need for development:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"devtools"</span>, <span class="st">"roxygen2"</span>, <span class="st">"testthat"</span>, <span class="st">"knitr"</span>))</span></code></pre></div>
<p>Please send a GitHub Pull Request with a clear list of the changes – please also include tests and make sure all of your commits contain only one feature per commit.</p>
<p>It is essential that any pull request passes <code>R CMD</code> check (also a requirement for submitting to CRAN). Our recommended way to run <code>R CMD</code> check is in the R console via devtools by running:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">check</span>()</span></code></pre></div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/IUCN-UK/iucnredlist/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/IUCN-UK/iucnredlist/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing iucnredlist</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Simon Tarr <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-8464-1240" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Ian Townsend <br><small class="roles"> Author </small> <a href="https://orcid.org/0009-0003-8894-6019" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>International Union for Conservation of Nature <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Simon Tarr, Ian Townsend, International Union for Conservation of Nature.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
